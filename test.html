<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GrammarGuard Extension Test Page</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-container {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    h1 {
      color: #27ae60;
      margin-bottom: 10px;
    }
    .instructions {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    textarea, input[type="text"] {
      width: 100%;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      margin-bottom: 15px;
      font-family: inherit;
    }
    .contenteditable-test {
      width: 100%;
      min-height: 100px;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      margin-bottom: 15px;
    }
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 5px;
      color: #333;
    }
    .status {
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-weight: 600;
    }
    .status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .test-text {
      background: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 14px;
      margin: 10px 0;
    }
    code {
      background: #e9ecef;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <h1>ğŸ” GrammarGuard Test Page</h1>
    <p>Use this page to test if the GrammarGuard extension is working correctly.</p>
    
    <div class="instructions">
      <strong>ğŸ“‹ Instructions:</strong>
      <ol>
        <li>Open Chrome DevTools (F12 or Right-click â†’ Inspect)</li>
        <li>Go to the <strong>Console</strong> tab</li>
        <li>Look for green messages starting with "ğŸŸ¢ GrammarGuard"</li>
        <li>Type text with errors in the fields below</li>
        <li>Errors should be highlighted in <span style="background: rgba(239, 68, 68, 0.3); border-bottom: 2px solid #ef4444; padding: 2px;">RED</span></li>
      </ol>
    </div>

    <div id="extension-status"></div>

    <!-- Test 1: Textarea -->
    <div>
      <label>Test 1: Textarea</label>
      <textarea placeholder="Type here: Their are alot of errors in this sentance.">Their are alot of errors in this sentance.</textarea>
      <div class="test-text">Try typing: <code>Their are alot of errors. I recieve alot of feedback.</code></div>
    </div>

    <!-- Test 2: Text Input -->
    <div>
      <label>Test 2: Text Input</label>
      <input type="text" placeholder="Type: its a great tool" value="its a great tool">
      <div class="test-text">Try typing: <code>Its a great tool for you're writing.</code></div>
    </div>

    <!-- Test 3: ContentEditable -->
    <div>
      <label>Test 3: ContentEditable (like Gmail/Slack)</label>
      <div class="contenteditable-test" contenteditable="true">Their are many benefits to using GrammarGuard for you're writing needs.</div>
      <div class="test-text">Try typing: <code>teh quick brown fox. Its amazing!</code></div>
    </div>

    <!-- Test 4: Filipino -->
    <div>
      <label>Test 4: Filipino Language (Change language in extension settings)</label>
      <textarea placeholder="Type Filipino text with errors">Ang mga mga estudyante ay nag ka roon ng resulta. Gusto ko nang pumunta kase saakin na yan.</textarea>
      <div class="test-text">Try typing: <code>mga mga tao, kase, saakin, pwede, nung</code></div>
    </div>
  </div>

  <div class="test-container">
    <h2>ğŸ› Troubleshooting</h2>
    <ul>
      <li><strong>No console messages?</strong> Extension might not be installed or enabled</li>
      <li><strong>Console says "Extension disabled"?</strong> Click the extension icon and enable it</li>
      <li><strong>No red highlighting?</strong> Click into the field and type to trigger checking</li>
      <li><strong>Filipino not working?</strong> Change language to Filipino in extension settings</li>
    </ul>
    
    <h3>Console Log Reference:</h3>
    <div class="test-text">
      âœ… Successful logs:<br>
      <code>ğŸŸ¢ GrammarGuard: Content script loaded!</code><br>
      <code>ğŸŸ¢ GrammarGuard: Initializing...</code><br>
      <code>ğŸŸ¢ GrammarGuard: Settings loaded:</code><br>
      <code>âœ… GrammarGuard: Ready!</code><br>
      <code>ğŸ“ GrammarGuard: Editable element focused</code><br>
      <code>ğŸ” Checking text:</code><br>
      <code>ğŸ“Š Found X errors:</code>
    </div>
  </div>

  <script>
    // Check if extension is loaded
    setTimeout(() => {
      const statusDiv = document.getElementById('extension-status');
      
      // Check for GrammarGuard indicators in console
      console.log('ğŸ§ª Test page loaded. Looking for GrammarGuard extension...');
      
      // Simple detection
      const textareas = document.querySelectorAll('textarea');
      let detected = false;
      
      textareas.forEach(ta => {
        if (ta.dataset.grammarguardAttached) {
          detected = true;
        }
      });
      
      setTimeout(() => {
        statusDiv.className = detected ? 'status success' : 'status error';
        statusDiv.innerHTML = detected 
          ? 'âœ… <strong>Extension detected!</strong> GrammarGuard is active on this page.'
          : 'âš ï¸ <strong>Extension not detected.</strong> Check console (F12) for messages or reload the page.';
      }, 2000);
    }, 1000);
  </script>
</body>
</html>

